# CPU2020
Summer term project ---- CPU
---
##Instruction Set

| Ins | IR\[15\] | IR\[14\] | IR\[13\] | IR\[12\] | FETCH | EXEC1 | EXEC2 | EQ | MI |  | Extra | CON\[0\]: Wren | CON\[1\]: Mux1 | CON\[2\]: PC\_Sload | CON\[3\]: cnt\_en | CON\[4\]: Mux3 | CON\[5\]: add\_sub | CON\[6\]: shiftin | CON\[7\]: ACC\_sload | CON\[8\]: ACC\_en | CON\[9\]: Bitnum | CON\[10\]: MUX4 | CON\[11\]: Add | CON\[11\]: MUX5 |
| :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: | :-: |
| LDA | 0        | 0        | 0        | 0        | 1     | 0     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 0        | 0        | 0        | 0     | 1     | 0     | x  | x  |  | 1     | 0              | 1              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 0        | 0        | 0        | 0     | 0     | 1     | x  | x  |  | x     | 0              | x              | 0                   | 1                 | 1              |                    | 0                 | 1                    | 1                 | 1                |                 |                |                 |
|     |          |          |          |          |       |       |       |    |    |  |       |                |                |                     |                   |                |                    |                   |                      |                   |                  |                 |                |                 |
| STA | 0        | 0        | 0        | 1        | 1     | 0     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 0        | 0        | 1        | 0     | 1     | 0     | x  | x  |  | 0     | 1              | 1              | 0                   | 1                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     |          |          |          |          |       |       |       |    |    |  |       |                |                |                     |                   |                |                    |                   |                      |                   |                  |                 |                |                 |
| ADD | 0        | 0        | 1        | 0        | 1     | 0     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 0        | 1        | 0        | 0     | 1     | 0     | x  | x  |  | 1     | 0              | 1              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 0        | 1        | 0        | 0     | 0     | 1     | x  | x  |  | x     | 0              | x              | 0                   | 1                 | 0              | 1                  | 0                 | 1                    | 1                 |                  |                 |                |                 |
|     |          |          |          |          |       |       |       |    |    |  |       |                |                |                     |                   |                |                    |                   |                      |                   |                  |                 |                |                 |
| SUB | 0        | 0        | 1        | 1        | 1     | 0     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 0        | 1        | 1        | 0     | 1     | 0     | x  | x  |  | 1     | 0              | 1              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 0        | 1        | 1        | 0     | 0     | 1     | x  | x  |  | x     | 0              | x              | 0                   | 1                 | 0              | 0                  | 0                 | 1                    | 1                 |                  |                 |                |                 |
|     |          |          |          |          |       |       |       |    |    |  |       |                |                |                     |                   |                |                    |                   |                      |                   |                  |                 |                |                 |
| JMP | 0        | 1        | 0        | 0        | 1     | 0     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 1        | 0        | 0        | 0     | 1     | 0     | x  | x  |  | 0     | 0              | x              | 1                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     |          |          |          |          |       |       |       |    |    |  |       |                |                |                     |                   |                |                    |                   |                      |                   |                  |                 |                |                 |
| JMI | 0        | 1        | 0        | 1        | 1     | 0     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 1        | 0        | 1        | 0     | 1     | 0     | x  | 1  |  | 0     | 0              | x              | 1                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 1        | 0        | 1        | 0     | 1     | 0     | x  | 0  |  | 0     | 0              | x              | 0                   | 1                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     |          |          |          |          |       |       |       |    |    |  |       |                |                |                     |                   |                |                    |                   |                      |                   |                  |                 |                |                 |
| JEQ | 0        | 1        | 1        | 0        | 1     | 0     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 1        | 1        | 0        | 0     | 1     | 0     | 1  | x  |  | 0     | 0              | x              | 1                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 1        | 1        | 0        | 0     | 1     | 0     | 0  | x  |  | 0     | 0              | x              | 0                   | 1                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     |          |          |          |          |       |       |       |    |    |  |       |                |                |                     |                   |                |                    |                   |                      |                   |                  |                 |                |                 |
| STP | 0        | 1        | 1        | 1        | 1     | 0     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 0        | 1        | 1        | 1        | 0     | 1     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     |          |          |          |          |       |       |       |    |    |  |       |                |                |                     |                   |                |                    |                   |                      |                   |                  |                 |                |                 |
| LDI | 1        | 0        | 0        | 0        | 1     | 0     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 1        | 0        | 0        | 0        | 0     | 1     | 0     | x  | x  |  | 0     | 0              | x              | 0                   | 1                 | 1              |                    | 0                 | 1                    | 1                 | 0                |                 |                |                 |
|     |          |          |          |          |       |       |       |    |    |  |       |                |                |                     |                   |                |                    |                   |                      |                   |                  |                 |                |                 |
| LSL | 1        | 0        | 0        | 1        | 1     | 0     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    | 0                 |                      |                   |                  |                 |                |                 |
|     | 1        | 0        | 0        | 1        | 0     | 1     | 0     | x  | x  |  | 0     | 0              | x              | 0                   | 1                 | 0              | 1                  | 0                 | 1                    | 1                 |                  | 1               |                |                 |
|     |          |          |          |          |       |       |       |    |    |  |       |                |                |                     |                   |                |                    |                   |                      |                   |                  |                 |                |                 |
| LSR | 1        | 0        | 1        | 0        | 1     | 0     | 0     | x  | x  |  | x     | 0              | 0              | 0                   | 0                 | 0              |                    |                   |                      |                   |                  |                 |                |                 |
|     | 1        | 0        | 1        | 0        | 0     | 1     | 0     | x  | x  |  | 0     | 0              | x              | 0                   | 1                 | 0              |                    | 0                 | 0                    | 1                 |                  |                 |                |                 |
|     |          |          |          |          |       |       |       |    |    |  |       |                |                |                     |                   |                |                    |                   |                      |                   |                  |                 |                |                 |
---
##Component List

|Name|Component|Quantity|Function|
|:-:|:-:|:-:|:-:|
|Data|RAM(16*2048)|1|Store the data generated by the CPU|
|Instruction|RAM(16*2048)|1|Store the instruction to be executed|
|EQ_MI|Verilog File|1|Provide signal to JMI & JEQ|
|LDA_LDI|Verilog File|1|Overcome the difference in word length|
|Decoder|Verilog File|1|Main control unit that controls each component in CPU|
|Statemachine|Verilog File|1|Control the state of the CPU|
|Fibonacci|Verilog File|1|A special block designed specifically for Fibonacci series|
|Dffn|.bdf|1|Store the current the state|
|IR|LPM_FF|1|Store the current instruction|
|ALU|LPM_ADD_SUB|1|Do Arithmetic operation|
|PC|LPM_COUNTER|1|Record the memory address of next instruction|
|ACC|LPM_SHIFTREG|1|Store the results after most executions|
|MUX1|BUSMUX|1|Select between the address from PC and operand from the current instruction|
|MUX2|BUSMUX|1|Save one clock cycle after fetch|
|MUX3|BUSMUX|1|Select between the value from ALU or the LDA_LDI|
|MUX4|NUXMUX|1|Select between the ACC and RAM|

